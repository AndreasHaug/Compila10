# Compila10
Compila is a small language running on JVM.

# Building
   This is a Gradle project and with Gradle installed it can be build with
   ```bash
   gradle build
   ```
   Note: Gradle version 7 will not work at the moment.
   
   Without Gradle, build with the wrapper script:
   ```bash
   ./gradlew build
   ```
   An executable will be located in app/build/distributions/.
   
   On Linux, the provided makefile can also be used to build with
   ```bash
   make
   ```
   The make command will also for convenience put the executable named
   Compila in Compiler/bin/ together with some code testfiles(requires
   unzip on linux to be installed). The compiler can from here be run with
   ```bash
   ./Compila <filename>
   ```
   to both compile the code and execute the generated bytecode.
   ```bash
   ./Compila [option] <filename>
   ```
   where options are
   ```bash
   -c    --compile         Compile cmp source file
   -r    --run             Execute bytecode file
   ```

# Tests
The tests are written as junit tests and are located in
[app/src/test/](app/src/test/). They are there for testing of lexing, parsing and
semantic analysis. These tests can be run with
```shell
gradle test
```
(if gradle installed)
or
```shell
./gradlew test
```

The tests will generate AST-representation located in
app/src/test/resources as it will run syntactic analyzes as well as
semantic analyzes.


As the output from the runme.cmp it is listed as
follows:
```shell
[andreas@Andreas:Compiler/bin]$ ./Compila runme.cmp
6.48074
7
TestNavn
Real 4.0
Imag 6.0
skriv v1
9
skriv v2
4
Storst 9
Real 1.0
Imag 2.0
DONE
```
For the plog.cmp:
```shell
[andreas@Andreas:Compiler/bin]$ ./Compila plog.cmp
X        X
 X      X
  X    X
   X  X
    XX
```
euclid.cmp:
```shell
[andreas@Andreas:Compiler/bin]$ ./Compila euclid.cmp
1
3
37
```
# Code structure
The code is located in [app/src/main/java](app/src/main/java). Code
for the AST datastructure is located in
[app/src/main/java/syntaxtree](app/src/main/java/syntaxtree). This
AST-code includes the printing module of the AST as well as the
typechecking and the bytecode generation. Main program in
[compila/App.java](app/src/main/java/compila/App.java). The
symboltable directory holds the code of the symboltable used in
addition to the classes which can represent instances in a
symboltable.
